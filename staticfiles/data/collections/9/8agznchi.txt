The COVID-19 pandemic, attributed to the SARS-CoV-2 coronavirus infection, resulted in millions infected worldwide and an immediate need for antiviral treatments. The main protease (Mpro) in SARS-CoV-2 is a viable drug target because of its essential role in the cleavage of the virus polypeptide and subsequent viral replication. Feline infectious peritonitis, a fatal infection in cats caused by a coronavirus, was successfully treated previously with a dipeptide-based protease inhibitor. Here we show this drug, GC376, and its analog GC373, are effective inhibitors of the Mpro from both SARS-CoV and SARS-CoV-2 with IC50 values in the nanomolar range. Crystal structures of the SARS-CoV and SARS-CoV-2 Mpro with these inhibitors have a covalent modification of the nucleophilic Cys145. NMR analysis reveals that inhibition proceeds via reversible formation of a hemithioacetal. GC373 and GC376 are potent inhibitors of SARS-CoV-2 in cell culture, with EC50 values near one micromolar and little to no toxicity. These protease inhibitors are soluble, non-toxic, and bind reversibly. They are strong drug candidates for the treatment of human coronavirus infections because they have already been successful in animals (cats). The work here lays the framework for their use in human trials for the treatment of COVID-19.