An increasing number of critically ill patients are immunocompromised. Acute hypoxemic respiratory failure (ARF), chiefly due to pulmonary infection, is the leading reason for ICU admission. Identifying the cause of ARF increases the chances of survival, but may be extremely challenging, as the underlying disease, treatments, and infection combine to create complex clinical pictures. In addition, there may be more than one infectious agent, and the pulmonary manifestations may be related to both infectious and non-infectious insults. Clinically or microbiologically documented bacterial pneumonia accounts for one-third of cases of ARF in immunocompromised patients. Early antibiotic therapy is recommended but decreases the chances of identifying the causative organism(s) to about 50%. Viruses are the second most common cause of severe respiratory infections. Positive tests for a virus in respiratory samples do not necessarily indicate a role for the virus in the current acute illness. Invasive fungal infections (Aspergillus, Mucorales, and Pneumocystis jirovecii) account for about 15% of severe respiratory infections, whereas parasites rarely cause severe acute infections in immunocompromised patients. This review focuses on the diagnosis of severe respiratory infections in immunocompromised patients. Special attention is given to newly validated diagnostic tests designed to be used on non-invasive samples or bronchoalveolar lavage fluid and capable of increasing the likelihood of an early etiological diagnosis. ELECTRONIC SUPPLEMENTARY MATERIAL: The online version of this article (10.1007/s00134-019-05906-5) contains supplementary material, which is available to authorized users.