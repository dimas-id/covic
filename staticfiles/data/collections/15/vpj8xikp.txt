Motivated with various responses of world governments to COVID-19, here we develop a toy model of the dependence epidemics spreading on the availability of tests for disease. Our model, that we call SUDR+K, is based on usual SIR model, but it splits the total fraction of infected individuals into two components: those that are undetected and those that are detected through tests. Moreover, we assume that available tests increase at a constant rate from the beginning of epidemics but are consumed to detect infected individuals. Strikingly we find a bi-stable behavior between a phase with a giant fraction of infected and a phase with a very small fraction. We show that the separation between these two regimes is governed by a match between the rate of testing and a rate of infection spread at given time. We also show that the existence of two phases does not depend on the mathematical choice of the form of the term describing the rate at which undetected individuals are tested and detected. Presented research implies that a vigorous early testing activity, before the epidemics enters into its giant phase, can potentially keep epidemics under control, and that even a very small change in rate of testing can increase or decrease the size of the whole epidemics of various orders of magnitude. For the real application of realistic model to ongoing epidemics, we would gladly collaborate with field epidemiologists in order to develop quantitative models of testing process.