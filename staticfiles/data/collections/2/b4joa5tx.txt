SARS-CoV-2 is the etiological agent responsible for the COVID-19 outbreak in Wuhan. Specific antiviral drug are urgently needed to treat COVID-19 infections. The main protease (Mpro) of SARS-CoV-2 is a key CoV enzyme that plays a pivotal role in mediating viral replication and transcription, which makes it an attractive drug target. In an effort to rapidly discover lead compounds targeting Mpro, two compounds (11a and 11b) were designed and synthesized, both of which exhibited excellent inhibitory activity with an IC50 value of 0.05 μM and 0.04 μM respectively. Significantly, both compounds exhibited potent anti-SARS-CoV-2 infection activity in a cell-based assay with an EC50 value of 0.42 μM and 0.33 μM, respectively. The X-ray crystal structures of SARS-CoV-2 Mpro in complex with 11a and 11b were determined at 1.5 Å resolution, respectively. The crystal structures showed that 11a and 11b are covalent inhibitors, the aldehyde groups of which are bound covalently to Cys145 of Mpro. Both compounds showed good PK properties in vivo, and 11a also exhibited low toxicity which is promising drug leads with clinical potential that merits further studies.