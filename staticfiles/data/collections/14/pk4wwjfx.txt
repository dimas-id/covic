Dl-3-N-butylphthalide (NBP) is approved in China for the treatment of ischemic stroke. Previous studies have shown that NBP promotes recovery after stroke via multiple mechanisms. However, the effect of NBP on vascular function and thrombosis remains unclear. Here, we aim to study the effect of NBP on vascular function using a rat model of transient middle cerebral artery occlusion (MCAO) and a state-of-the-art high-resolution synchrotron radiation angiography. Eighty SD rats underwent MCAO surgery. NBP (90 mg/kg) was administrated daily by gavage. Synchrotron radiation angiography was used to evaluate the cerebral vascular perfusion, vasoconstriction, and vasodilation in real-time. Neurological scores, brain infarction and atrophy were evaluated. Real-time PCR was used to assess the expression levels of thrombosis and vasoconstriction-related genes. Results revealed that NBP attenuated thrombosis after MCAO and reduced brain infarct and atrophy volume. NBP administrated at 1 and 4 h after MCAO prevented the vasoconstriction of the artery and maintained its diameter at normal level. Administrated at one week after surgery, NBP functioned as a vasodilator in rats after MCAO while displayed no vasodilating effect in sham group. Our results suggested that NBP attenuates brain injury via increasing the regional blood flow by reducing thrombosis and vasoconstriction.