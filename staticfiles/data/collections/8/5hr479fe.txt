Phenotypic plasticity can enable organisms to produce optimal phenotypes in multiple environments. A crucial life history trait that is often highly plastic is sex allocation, which in simultaneous hermaphrodites describes the relative investment into the male versus female sex functions. Theory predicts-and morphological evidence supports-that greater investment into the male function is favoured with increasing group size, due to the increasing importance of sperm competition for male reproductive success. Here, we performed a genome-wide gene expression assay to test for such sex allocation plasticity in a model simultaneous hermaphrodite, the free-living flatworm Macrostomum lignano. Based on RNA-Seq data from 16 biological replicates spanning four different group size treatments, we demonstrate that at least 10% of the >75,000 investigated transcripts in M. lignano are differentially expressed according to the social environment, rising to >30% of putative gonad-specific transcripts (spermatogenesis and oogenesis candidates) and tail-specific transcripts (seminal fluid candidates). This transcriptional response closely corresponds to the expected shift away from female and towards male reproductive investment with increasing sperm competition level. Using whole-mount in situ hybridization, we then confirm that many plastic transcripts exhibit the expected organ-specific expression, and RNA interference of selected testis- and ovary-specific candidates establishes that these indeed function in gametogenesis pathways. We conclude that a large proportion of sex-specific transcripts in M. lignano are differentially expressed according to the prevailing ecological conditions and that these are functionally relevant to key reproductive phenotypes. Our study thus begins to bridge organismal and molecular perspectives on sex allocation plasticity.