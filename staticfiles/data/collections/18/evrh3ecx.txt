SARS-CoV-2 (severe acute respiratory syndrome coronavirus 2) is the etiological agent responsible for the global COVID-19 (coronavirus disease 2019) outbreak. The main protease of SARS-CoV-2, Mpro, is a key enzyme that plays a pivotal role in mediating viral replication and transcription. We designed and synthesized two lead compounds (11a and 11b) targeting Mpro Both exhibited excellent inhibitory activity and potent anti-SARS-CoV-2 infection activity. The x-ray crystal structures of SARS-CoV-2 Mpro in complex with 11a or 11b, both determined at a resolution of 1.5 angstroms, showed that the aldehyde groups of 11a and 11b are covalently bound to cysteine 145 of Mpro Both compounds showed good pharmacokinetic properties in vivo, and 11a also exhibited low toxicity, which suggests that these compounds are promising drug candidates.