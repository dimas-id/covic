Resource support between individuals is of particular importance in controlling or mitigating epidemic spreading, especially during pandemics. Whereas there remains the question of how we can protect ourselves from being infected while helping others by donating resources in fighting against the epidemic. To answer the question, we propose a novel resource allocation model by considering the awareness of self-protection of individuals. In the model, a tuning parameter is introduced to quantify the reaction strength of individuals when they are aware of the disease. And then, a coupled model of resource allocation and disease spreading is proposed to study the impact of self-awareness on resource allocation and, its impact on the dynamics of epidemic spreading. Through theoretical analysis and extensive Monte Carlo simulations, we find that in the stationary state, the system converges to two states: the whole healthy or the completely infected, which indicates an abrupt increase in the prevalence when there is a shortage of resources. More importantly, we find that too cautious and too selfless for the people during the outbreak of an epidemic are both not suitable for disease control. Through extensive simulations, we find the optimal point, at which there is a maximum value of the epidemic threshold, and an outbreak can be delayed to the greatest extent. At last, we study further the effects of network structure on the coupled dynamics. We find that the degree heterogeneity promotes the outbreak of disease, and the network structure does not alter the optimal phenomenon in behavior response.