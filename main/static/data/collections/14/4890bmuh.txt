Mobility restrictions - travel advisories, trade and travel bans, border closures and, in extreme cases, area quarantines or cordons sanitaires - are among the most widely used measures to control infectious diseases. Restrictions of this kind were important in the response to epidemics of SARS (2003), H1N1 influenza (2009), and Ebola (2014). However, they do not always work as expected. The imposition of a cordon sanitaire to control the 2014 West African Ebola outbreak, for example, is argued to have led to a higher-than-expected number of cases in the quarantined area. To determine when mobility restrictions reduce the size of an epidemic, we use a model of disease transmission within and between economically heterogeneous locally connected communities. One community comprises a low-risk, resource-rich, low-density population with access to effective medical resources. The other comprises a high-risk, resource-poor, high-density population without access to effective medical resources. We find that the overall size of an epidemic centered in the high-risk community is sensitive to the stringency of mobility restrictions between the two communities. Unrestricted mobility between the two risk communities increases the number of secondary cases in the low-risk community but reduces the overall epidemic size. By contrast, the imposition of a cordon sanitaire around the high-risk community reduces the number of secondary infections in the low-risk community but increases the overall epidemic size. The degree to which mobility restrictions increase or decrease the overall epidemic size depends on the level of risk in each community and the characteristics of the disease.