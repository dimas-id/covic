Infectious diseases remain a formidable challenge to human health, and understanding pathogen evolution is crucial to designing effective therapeutics and control strategies. Here, we review important evolutionary aspects of HIV infection, highlighting the concept of selection at multiple spatial and temporal scales. At the smallest scale, a single cell may be infected by multiple virions competing for intracellular resources. Recombination and phenotypic mixing introduce novel evolutionary dynamics. As the virus spreads between cells in an infected individual, it continually evolves to circumvent the immune system. We discuss evolutionary mechanisms of HIV pathogenesis and progression to AIDS. Viral spread throughout the human population can lead to changes in virulence and the transmission of immune-evading variation. HIV emerged as a human pathogen due to selection occurring between different species, adapting from related viruses of primates. HIV also evolves resistance to antiretroviral drugs within a single infected host, and we explore the possibility for the spread of these strains between hosts, leading to a drug-resistant epidemic. We investigate the role of latency, drug-protected compartments, and direct cell-to-cell transmission on viral evolution. The introduction of an HIV vaccine may select for viral variants that escape vaccine control, both within an individual and throughout the population. Due to the strong selective pressure exerted by HIV-induced morbidity and mortality in many parts of the world, the human population itself may be co-evolving in response to the HIV pandemic. Throughout the paper, we focus on trade-offs between costs and benefits that constrain viral evolution and accentuate how selection pressures differ at different levels of selection. ELECTRONIC SUPPLEMENTARY MATERIAL: The online version of this article (doi:10.1007/s00109-012-0892-1) contains supplementary material, which is available to authorized users.