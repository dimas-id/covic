Abstract The problem of finding a better immunization strategy for controlling the spreading of the epidemic with limited resources has attracted much attention since its great theoretical significance and wide application. In this letter, we propose a novel and successful targeted immunization strategy based on percolation transition. Our strategy repeatedly looks for the critical nodes for immunizing. The critical node, which leads to the emergence of the giant connected component as the degree threshold increases, is determined when the maximal second-largest connected component disappears. To test the effectiveness of the proposed method, we conduct the experiments on several artificial networks and real-world networks. The results show that the proposed method outperforms the degree centrality strategy, the betweenness centrality strategy and the adaptive degree centrality strategy with 18% to 50% fewer immunized nodes for same amount of immunization.